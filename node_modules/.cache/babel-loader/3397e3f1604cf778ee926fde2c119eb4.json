{"ast":null,"code":"/*\r\n * action types\r\n */\nimport fetch from 'cross-fetch';\nexport var GET_DECK = 'GET_DECK';\n/*\r\n * action creators\r\n */\n\nfunction receivePosts(json) {\n  return {\n    type: GET_DECK,\n    posts: json.data.children.map(function (child) {\n      return child.data;\n    })\n  };\n}\n\nfunction fetchPosts() {\n  console.log(\"fetch\");\n  return function (dispatch) {\n    return fetch(\"https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1\").then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      return dispatch(receivePosts(json));\n    });\n  };\n}\n\nexport function getDeck() {\n  console.log(\"getDeck\");\n  return function (dispatch, getState) {\n    return dispatch(fetchPosts());\n  };\n}","map":{"version":3,"sources":["C:\\Users\\PhakkyoC\\WebstormProjects\\memories\\memories\\src\\Actions.js"],"names":["fetch","GET_DECK","receivePosts","json","type","posts","data","children","map","child","fetchPosts","console","log","dispatch","then","response","getDeck","getState"],"mappings":"AAAA;;;AAGA,OAAOA,KAAP,MAAkB,aAAlB;AAGA,OAAO,IAAMC,QAAQ,GAAG,UAAjB;AAEP;;;;AAGA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AACxB,SAAO;AACHC,IAAAA,IAAI,EAAEH,QADH;AAEHI,IAAAA,KAAK,EAAEF,IAAI,CAACG,IAAL,CAAUC,QAAV,CAAmBC,GAAnB,CAAuB,UAAAC,KAAK;AAAA,aAAIA,KAAK,CAACH,IAAV;AAAA,KAA5B;AAFJ,GAAP;AAIH;;AAED,SAASI,UAAT,GAAsB;AAClBC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACf,WAAOb,KAAK,iEAAL,CACFc,IADE,CACG,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACZ,IAAT,EAAJ;AAAA,KADX,EAEFW,IAFE,CAEG,UAAAX,IAAI;AAAA,aAAIU,QAAQ,CAACX,YAAY,CAACC,IAAD,CAAb,CAAZ;AAAA,KAFP,CAAP;AAGH,GAJD;AAKH;;AAED,OAAO,SAASa,OAAT,GAAmB;AACtBL,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAO,UAACC,QAAD,EAAWI,QAAX,EAAwB;AAC3B,WAAOJ,QAAQ,CAACH,UAAU,EAAX,CAAf;AACH,GAFD;AAGH","sourcesContent":["/*\r\n * action types\r\n */\r\nimport fetch from 'cross-fetch'\r\n\r\n\r\nexport const GET_DECK = 'GET_DECK';\r\n\r\n/*\r\n * action creators\r\n */\r\nfunction receivePosts(json) {\r\n    return {\r\n        type: GET_DECK,\r\n        posts: json.data.children.map(child => child.data)\r\n    }\r\n}\r\n\r\nfunction fetchPosts() {\r\n    console.log(\"fetch\");\r\n    return dispatch => {\r\n        return fetch(`https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1`)\r\n            .then(response => response.json())\r\n            .then(json => dispatch(receivePosts(json)))\r\n    }\r\n}\r\n\r\nexport function getDeck() {\r\n    console.log(\"getDeck\");\r\n    return (dispatch, getState) => {\r\n        return dispatch(fetchPosts())\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}